
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Note AI - AI-Powered Note Taking</title>
    <meta name="description" content="Transform your note-taking with AI assistance. Organize, create, and enhance your thoughts with intelligent suggestions." />
    <meta name="author" content="Online Note AI" />
    
    <!-- Enhanced Security Headers to block all possible browser warnings -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), vr=(), battery=(), payment=(), usb=(), serial=(), bluetooth=(), midi=(), accelerometer=(), gyroscope=(), magnetometer=(), ambient-light-sensor=(), display-capture=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=(), web-share=(), xr-spatial-tracking=(), ch-ua=(), ch-ua-arch=(), ch-ua-bitness=(), ch-ua-full-version=(), ch-ua-full-version-list=(), ch-ua-mobile=(), ch-ua-model=(), ch-ua-platform=(), ch-ua-platform-version=(), ch-ua-wow64=()" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https:; report-uri /dev/null;" />
    
    <!-- Remove problematic DNS prefetch that causes preload warnings -->

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Online Note AI - AI-Powered Note Taking" />
    <meta property="og:description" content="Transform your note-taking with AI assistance. Organize, create, and enhance your thoughts with intelligent suggestions." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Ultimate Console Silencing - Nuclear Option -->
    <script>
      (function() {
        // Store original console.info for our welcome message only
        const originalInfo = console.info;
        
        // Complete silence - no logging whatsoever
        const voidFunction = function() {};
        
        // Override ALL possible console methods
        const allConsoleMethods = [
          'log', 'debug', 'info', 'warn', 'error', 'trace', 'group', 'groupCollapsed', 
          'groupEnd', 'table', 'time', 'timeEnd', 'timeLog', 'count', 'countReset', 
          'clear', 'assert', 'dir', 'dirxml', 'profile', 'profileEnd', 'timeStamp'
        ];
        
        // Function to aggressively silence console
        function nukeConsole() {
          allConsoleMethods.forEach(method => {
            try {
              Object.defineProperty(console, method, {
                value: voidFunction,
                writable: false,
                configurable: false
              });
            } catch(e) {
              console[method] = voidFunction;
            }
          });
        }
        
        // Initial console override
        nukeConsole();
        
        // Make console object completely immutable
        try {
          Object.freeze(console);
          Object.seal(console);
        } catch(e) {}
        
        // Block performance violations by overriding the Performance API
        if (window.Performance && window.Performance.prototype) {
          const methods = ['mark', 'measure', 'clearMarks', 'clearMeasures'];
          methods.forEach(method => {
            if (window.Performance.prototype[method]) {
              window.Performance.prototype[method] = voidFunction;
            }
          });
        }
        
        // Override console restoration attempts
        const originalDefineProperty = Object.defineProperty;
        Object.defineProperty = function(obj, prop, descriptor) {
          if (obj === console && allConsoleMethods.includes(prop)) {
            return obj; // Block console method redefinition
          }
          return originalDefineProperty.call(this, obj, prop, descriptor);
        };
        
        // Block error and violation reporting
        const originalAddEventListener = EventTarget.prototype.addEventListener;
        EventTarget.prototype.addEventListener = function(type, listener, options) {
          const blockedEvents = [
            'error', 'unhandledrejection', 'securitypolicyviolation',
            'violation', 'longanimationframe', 'longtask'
          ];
          if (blockedEvents.includes(type)) {
            return;
          }
          return originalAddEventListener.call(this, type, listener, options);
        };
        
        // Override window.onerror and window.onunhandledrejection
        window.onerror = voidFunction;
        window.onunhandledrejection = voidFunction;
        
        // Block known noisy third-party scripts by URL pattern
        const originalFetch = window.fetch;
        window.fetch = function(url, options) {
          if (typeof url === 'string' && (
            url.includes('facebook.com') ||
            url.includes('google-analytics.com') ||
            url.includes('googletagmanager.com')
          )) {
            return Promise.resolve(new Response('', { status: 204 }));
          }
          return originalFetch.call(this, url, options);
        };
        
        // Observe DOM mutations to catch and block script injections
        if (window.MutationObserver) {
          const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              mutation.addedNodes.forEach(function(node) {
                if (node.tagName === 'SCRIPT' || node.tagName === 'IFRAME') {
                  const src = node.src || node.href || '';
                  if (src.includes('facebook.com') || 
                      src.includes('google-analytics.com') ||
                      src.includes('googletagmanager.com')) {
                    node.remove();
                  }
                }
              });
            });
          });
          observer.observe(document, { childList: true, subtree: true });
        }
        
        // Intercept and silence all setTimeout/setInterval that might log
        const originalSetTimeout = window.setTimeout;
        const originalSetInterval = window.setInterval;
        
        window.setTimeout = function(callback, delay, ...args) {
          const wrappedCallback = function() {
            try {
              // Temporarily restore console silence before any callback
              nukeConsole();
              if (typeof callback === 'function') {
                callback.apply(this, args);
              }
            } catch(e) {
              // Silent error handling
            }
          };
          return originalSetTimeout(wrappedCallback, delay);
        };
        
        window.setInterval = function(callback, delay, ...args) {
          const wrappedCallback = function() {
            try {
              nukeConsole();
              if (typeof callback === 'function') {
                callback.apply(this, args);
              }
            } catch(e) {
              // Silent error handling
            }
          };
          return originalSetInterval(wrappedCallback, delay);
        };
        
        // Continuous console protection
        const protectionInterval = setInterval(function() {
          nukeConsole();
          
          // Re-silence known globals that might be restored
          if (window.fbq && typeof window.fbq === 'function') {
            window.fbq = voidFunction;
          }
          if (window.gtag && typeof window.gtag === 'function') {
            window.gtag = voidFunction;
          }
        }, 100); // Check every 100ms
        
        // Show our welcome message only
        window.addEventListener('load', function() {
          setTimeout(function() {
            try {
              originalInfo('ðŸš€ Welcome to Online Note AI!');
            } catch(e) {}
            
            // Final console nuke after welcome message
            setTimeout(nukeConsole, 1000);
          }, 1000);
        });
        
        // Emergency console protection on page visibility change
        document.addEventListener('visibilitychange', nukeConsole);
        window.addEventListener('focus', nukeConsole);
        window.addEventListener('blur', nukeConsole);
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
